[gd_scene load_steps=10 format=3 uid="uid://ewwgslk721lm"]

[ext_resource type="Shader" path="res://shaders/battle_backgrounds/wavy_0.gdshader" id="1_5rncn"]
[ext_resource type="PackedScene" uid="uid://cbg440q63mrx6" path="res://scenes/entities/backend/scene_tools/scene_tools.tscn" id="1_r68cb"]
[ext_resource type="AudioStream" uid="uid://co7g1bw8rth5c" path="res://audio/music/placeholder/baawo.mp3" id="1_tt6qj"]
[ext_resource type="Texture2D" uid="uid://dodd2iq14v4jg" path="res://sprites/maps/gameplay/battle/backgrounds/bg_0.png" id="2_rcv48"]
[ext_resource type="Texture2D" uid="uid://b0vp51x2m8rma" path="res://sprites/maps/gameplay/battle/backgrounds/bg_1.png" id="3_skt22"]
[ext_resource type="Shader" path="res://shaders/battle_backgrounds/difficulty_margin.gdshader" id="4_u4fn5"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_g8wud"]
shader = ExtResource("1_5rncn")
shader_parameter/opacity = 1.0
shader_parameter/waviness = 3.0
shader_parameter/frequency = 2.0
shader_parameter/amplitude = 0.1

[sub_resource type="ShaderMaterial" id="ShaderMaterial_qolis"]
shader = ExtResource("1_5rncn")
shader_parameter/opacity = 0.5
shader_parameter/waviness = 6.0
shader_parameter/frequency = 4.325
shader_parameter/amplitude = 0.2

[sub_resource type="ShaderMaterial" id="ShaderMaterial_t7lq0"]
shader = ExtResource("4_u4fn5")
shader_parameter/color = Color(0.0392157, 0.0392157, 0.0392157, 1)
shader_parameter/margin_value = 0.18

[node name="battle" type="Node2D"]

[node name="scene_tools" parent="." instance=ExtResource("1_r68cb")]

[node name="audio_holder" type="Node2D" parent="."]

[node name="bg_music" type="AudioStreamPlayer" parent="audio_holder"]
stream = ExtResource("1_tt6qj")
autoplay = true

[node name="gui" type="CanvasLayer" parent="."]
layer = 0

[node name="background" type="Control" parent="gui"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="behind" type="TextureRect" parent="gui/background"]
material = SubResource("ShaderMaterial_g8wud")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("2_rcv48")

[node name="front" type="TextureRect" parent="gui/background"]
material = SubResource("ShaderMaterial_qolis")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("3_skt22")
flip_h = true

[node name="difficulty_margin" type="ColorRect" parent="gui/background"]
material = SubResource("ShaderMaterial_t7lq0")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.0392157, 0.0392157, 0.0392157, 1)

[node name="enemy_holder" type="HBoxContainer" parent="gui"]
anchors_preset = -1
anchor_left = 0.15
anchor_top = 0.5
anchor_right = 0.85
anchor_bottom = 0.5
grow_horizontal = 2
grow_vertical = 2

[node name="opponents" type="Node2D" parent="."]
